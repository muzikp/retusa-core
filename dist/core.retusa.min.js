!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(this,(()=>(()=>{var __webpack_modules__={10:(e,t,r)=>{var n=async function(){return!1};const o=r(787);Array.prototype.eventHandler=n,Object.prototype.eventHandler=n,Array.eventHandler=n,Object.eventHandler=n,Array.prototype.$=o.call,Object.prototype.$=o.call,Array.$=o.call,Object.$=o.call,e.exports={use:function(){for(let t of[...arguments])t(e.exports);return e.exports},register:function(){return e.exports},addDictionary:function(t,r,n){return o.setData(t,r,n),e.exports},setLanguage:function(t){return o.setDefault(t),e.exports},setListener:function(t){return e.exports.call=t,e.exports},listen:function(t){return n=t,Array.prototype.eventHandler=n,Object.prototype.eventHandler=n,Array.eventHandler=n,Object.eventHandler=n,e.exports},toLocale:o.call,...r(13)}},183:e=>{function t(e=8){let t="";let r=0;for(;r<e;)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())),r+=1;return t}Array.prototype.hasOnlyVectorChildren=function(){return 0==this.filter((e=>!e?.isVector)).length},String.prototype.fill=function(e,t){for(var r="",n=0;n<t;n++)r=+e;return r},Math.getRandomIndexes=function(e,t){var r=[];for(e<t&&(t=e);r.length<t;){var n=Math.round(Math.random()*e);r.indexOf(n)<0&&r.push(n)}return r},Math.rndNumber=function(e,t,r=2){let n=Math.pow(10,r||0);return Math.floor(Math.random()*(t-e)*n+e*n)/n},Math.rndSelect=function(e,t=1,r=!1){if(t>=e.length)return e;for(var n=[];n.length<t;){var o=Math.floor(Math.random()*e.length);(r||n.indexOf(e[o]<0))&&n.push(e[o])}return n},Math.rndSelectOne=function(e){return e[Math.floor(Math.random()*e.length)]},Math.sign=function(e){return 0==e?0:e>0?1:-1},Function.prototype.stringify=function(e="\t"){var t=this.toString().match(/function[^{]+\{([\s\S]*)\}$/)[1],r="";return t.split(/\n/g).forEach((e=>r+=e.trim()+"\n")),r.trim()},Date.isDate=function(e){return e instanceof Date&&!isNaN(e.valueOf())},String.fillRnd=function(e){return t(e)},Array.prototype.fillRnd=function(){return t(this.length)},e.exports={Array,Math,String,Function,Date}},787:(e,t,r)=>{"use strict";r(183);const n="en-GB";var o={default:{GSEH:"Dictionary data argument must be an object and cannot be empty.",kaex:"Language ${value} not registered, switching to default (${default})."}},i={default:function(){return String.fillRnd(8)}},a="undefined"!=typeof window?window?.localStorage?.getItem("language")||window.navigator?.language||window.navigator?.userLanguage||n:Intl.DateTimeFormat().resolvedOptions().locale;o[a]||(a=n),e.exports={setData:function(t,r,n=!0){if("object"!=typeof r)throw e.exports.call("GSEH");return o[t]||(o[t]={}),Object.keys(r).forEach((function(e){n||o[t][e],o[t][e]=r[e]})),e.exports},getDefault:function(){return a},setDefault:function(t){return void 0===t?a=n:t?o[t]?a=t:(console.warn(e.exports.call("kaex",{value:t,default:n})),a=n):a=Intl.DateTimeFormat().resolvedOptions().locale,e.exports},call:function(e,t={}){let r=o[a];if(r||(r=o.default),!e)return"";if("object"==typeof e){var n=a?e[a]:Object.entries(e)[0][1];return s(n,t)}return(n=r[e])?n=s(n,t):s(e,{value:e})},listLanguages:function(){return Object.keys(o)},setWordList:function(t,r){return i[t]=r,e.exports},getRandomWord:function(){var e=i[a]||i.default;return Array.isArray(e)?Math.rndSelectOne(e):e(...arguments)},getRandomWords:function(e){var t=i[a]||i.default;return Array.isArray(t)?Math.rndSelect(t,e,!1):Array(e).fill(0).map((e=>t()))}};const s=function(e,t){return(e.match(/\$\{(.*?)\}/g)||[]).map((e=>e.match(/\$\{(.*)\}/)[1])).forEach((function(r){e=e.replace("${"+r+"}",(()=>t[r]))})),e}},13:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const{Array,Math,String,Function}=__webpack_require__(183),meta=["name","label","formatter"],registry=new WeakMap;let defaultEventHandlers=[{eventName:"vector.value.added",filter:null,on:!0,handler:function(e){}},{eventName:"vector.value.changed",filter:null,on:!0,handler:function(e){}},{eventName:"vector.value.removed",filter:null,on:!0,handler:function(e){}},{eventName:"vector.name.changed",filter:null,on:!0,handler:function(e){}},{eventName:"vector.label.changed",filter:null,on:!0,handler:function(e){}},{eventName:"vector.created",filter:null,on:!0,handler:function(e){}},{eventName:"vector.sample.init",filter:null,on:!0,handler:function(e){}},{eventName:"vector.sample.end",filter:null,on:!0,handler:function(e){}}];function setRegistryProperty(e,t,r){registry.get(e)||registry.set(e,{}),registry.get(e)[t]=r}function getRegistryProperty(e,t=null){return t?registry.get(e)[t]:registry.get(e)}class Vector extends Array{constructor(){super(),registry.set(this,{id:String.fillRnd(16)}),setRegistryProperty(this,"eventHandlers",defaultEventHandlers),this.trigger("vector.created"),[...arguments].length>0&&this.push(...arguments)}name(e,t){if(e){const t=this.name();return setRegistryProperty(this,"name",e),e!==t&&this.trigger("vector.name.changed",{old:t,new:e}),this}return t?this:registry.get(this).name}label(e,t){if(e){const t=getRegistryProperty(this,"label");return setRegistryProperty(this,"label",e),e!==t&&this.trigger("vector.label.changed",{old:t,new:e}),this}return t?this:registry.get(this).label||registry.get(this).name}formatter(e,t){if(e){const t=getRegistryProperty(this,"formatter");return setRegistryProperty(this,"formatter",e),e!==t&&this.trigger("vector.formatter.changed",{old:t,new:e}),this}return t?this:registry.get(this).formatter}getMeta(e,t){registry.get(e)||registry.set(e,{}),registry.get(this)||registry.set(this,{}),t&&meta.push("id");for(let t of meta)setRegistryProperty(this,t,registry.get(e)[t]);return this}id(){return getRegistryProperty(this,"id")}concat(){return new this.constructor(...this,...arguments).getMeta(this)}push(){let e=this.length;for(let e of[...arguments].flat(1/0))this.parse?super.push(this.parse(e)):super.push(e);this.trigger("vector.value.added",{index:e,count:this.length})}slice(){this.reload(super.slice.call(this.raw(),...arguments))}toString(){return this.serialize(!0)}setLanguage(e){return locale.setDefault(e),this}raw(){return[...this]}reload(...e){return new this.constructor(...e).getMeta(this,!0)}removeEmpty(){return new this.constructor([...this].filter((e=>null!==e))).getMeta(this)}values(){var data=[];if(this.function())if(this.matrix())for(var i=0;i<this.matrix().maxRows();i++)data.push(this.parse(this.function()(this.matrix(),i)));else data=[];else data=this;if(this.formatter()){if("object"==typeof this.formatter())return data.map((e=>null===e?null:this.formatter()[e]||e));if("function"==typeof this.formatter()){const e=this.formatter();return data.map((t=>e(t)))}{const f=eval(`[${this.formatter()}][0]`);return data.map((e=>f(e)))}}return data}format(value,index,parent){const f=getRegistryProperty(this,"formatter");return f?"object"==typeof f?void 0!==f[value]?f[value]:value:"function"==typeof f?f(value,index,parent||this):"string"==typeof f?eval(`[${f}][0]`)(value,index,parent||this):void 0:value}serialize(e=!1,t={beautify:!1}){var r={id:this.id(),values:this.raw(),name:this.name(),label:getRegistryProperty(this,"label")||null,type:this.type(),formatter:this.formatter()?"function"==typeof this.formatter()?this.formatter().toString():this.formatter():null};return e?JSON.stringify(r,null,t?.beautify?"\t":""):r}clone(e=!1){var t=e?new this.constructor:new this.constructor(...this).getMeta(this);return log({class:"vector",what:this,data:{events:["cloned"]}}),t}flush(){const e=this.length;for(;this.length>0;)super.pop.call(this);return this.trigger("vector.value.removed",{index:0,length:e}),this}ifilter(e=(()=>!0)){return new Array(...this).map((function(t,r){return e(t)?r:-1})).filter((e=>e>-1))}filterByIndex(...e){return new this.constructor(...this).filter(((t,r)=>[...e].indexOf(r)>-1)).getMeta(this)}sample(e=0){this.trigger("vector.sample.init",{});var t=this.clone(!0);if(e<=0)return this.trigger("vector.sample.end",{}),t;if(e<1&&(e=this.length*e),e>this.length)return this.trigger("vector.sample.end",{}),t;var r=Math.getRandomIndexes(this.length,e);return t.push(...this.filter(((e,t)=>r.indexOf(t)>-1))),this.trigger("vector.sample.end",{}),t}async trigger(e,t){this.eventHandler&&this.eventHandler({name:e,data:t||{},who:this})}convert(e,t){if(this.type()==e)return this;if(1==e)return t||(t=(e,t,r)=>e),new NumericVector(...this.map(t)).getMeta(this);if(2==e)return t||(t=(e,t,r)=>String(e)),new StringVector(...this.map(t)).getMeta(this);if(3==e)return t||(t=(e,t,r)=>null===e?null:!!e),new BooleanVector(...this.map(t)).getMeta(this);if(4==e)return t||(t=(e,t,r)=>null===e?null:e),new TimeVector(...this.map(t)).getMeta(this);throw new Error(`Unrecognized vector type: ${e}. Possible types: 1,2,3,4.`)}fill(e,t,r){var n=this.parse(e);return r?super.push(...Array(t).fill(n)):this.reload(...Array(t).fill(n)),this}append(e,t=1){var r=this.parse(e);return super.push(...Array(t).fill(r)),this}localize(e,t={}){return $(e,t)}static deserialize(e){if("object"!=typeof e)try{e=JSON.parse(e)}catch(e){return console.error("Failed to parse the vector data."),null}if([1,2,3,4].indexOf(e.type)<0)throw new Error("Unknown vector type: "+e.type);{let t=1==e.type?new NumericVector(...e.values):2==e.type?new StringVector(...e.values):3==e.type?new BooleanVector(...e.values):4==e.type?new TimeVector(...e.values):new Error;if(e.id&&setRegistryProperty(t,"id",e.id),t=t.name(e.name).label(e.label),e.formatter)try{t=t.formatter(JSON.parse())}catch(r){try{t=t.formatter(e.formatter)}catch(e){console.error("Failed to deserialize the formatter",e)}}return e.function,t}}static of(){return[...arguments].vectorify()}static ofType(e){return function(){if(1==e)return new NumericVector(...arguments);if(2==e)return new StringVector(...arguments);if(3==e)return new BooleanVector(...arguments);if(4==e)return new TimeVector(...arguments);throw new Error("Unknown vector type: "+e)}}}Vector.prototype.isVector=!0;const vectorParser={numeric:function(e){if("string"==typeof e&&(e=e.replace(/\,/g,".").trim()),0===e||"0"===e||!1===e)return 0;if(e){if(isNaN(e))throw new Error($("UyOj",{value:e}));return Number(e)}return null},string:function(e){return e||!1===e||0===e?String(e):null},boolean:function(e){return e?1:!1===e||0===e||"0"===e||"false"===e?0:null},time:function(e){if(!1===e||null==e)return null;if(Date.isDate(e))return e;if(Array.isArray(e)&&new Date(...e),isNaN(new Date(e).getTime()))throw new Error($("eZw1",{value:e}));return new Date(e)}};class NumericVector extends Vector{constructor(){super(...arguments)}type(e){return e?"NumericVector":1}static generate(e={}){var t=isNaN(e.min)||Number(e.min)<-Number.MAX_SAFE_INTEGER?-Number.MAX_SAFE_INTEGER:Number(e.min),r=isNaN(e.max)||Number(e.max)>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:Number(e.max),n=Number(e.nullprob)>0?Number(e.nullprob)>1?1:Number(e.nullprob):0;if(r<t){var o=e.min;t=e.max,r=o}for(var i=Number(e.decimal)>0?Math.floor(e.decimal):0,a=Number(e.total)>0?Number(e.total):100,s=new NumericVector,u=0;u<a;u++)n>0&&Math.random()<=n?s.push(null):s.push(Math.rndNumber(t,r,i));return s}}NumericVector.prototype.parse=vectorParser.numeric;class StringVector extends Vector{constructor(){super(...arguments)}type(e){return e?"StringVector":2}static generate(e={}){let t;var r=Number(e.total)>0?Number(e.total):100,n=Number(e.nullprob)>0?Number(e.nullprob)>1?1:Number(e.nullprob):0;t=void 0===e?.list?locale.getRandomWords(5):isNaN(e.list)?e.list:locale.getRandomWords(Number(e.list));for(var o=new StringVector,i=0;i<r;i++)n>0&&Math.random()<=n?o.push(null):o.push(Math.rndSelectOne(t));return o}}StringVector.prototype.parse=vectorParser.string;class BooleanVector extends Vector{constructor(){super(...arguments)}type(e){return e?"BooleanVector":3}static generate(e={}){let t=[1,0];for(var r=Number(e.total)>0?Number(e.total):100,n=Number(e.nullprob)>0?Number(e.nullprob)>1?1:Number(e.nullprob):0,o=new BooleanVector,i=0;i<r;i++)n>0&&Math.random()<=n?o.push(null):o.push(Math.rndSelectOne(t));return o}format(e,t,r){return this.formatter()?this.format(e,t,r):1===e||0!==e&&null}}BooleanVector.prototype.parse=vectorParser.boolean;class TimeVector extends Vector{constructor(){super(),[...arguments].length>0&&this.push(...arguments)}push(){for(let e of[...arguments])this.parse?super.push(this.parse(e)):super.push(e)}raw(){return[...this].map((function(e){return null!==e?e.getTime():null}))}type(e){return e?"TimeVector":4}static generate(e={}){var t=isNaN(new Date(e.min).getTime())?new Date("1000-01-01").getTime():new Date(e.min).getTime(),r=isNaN(new Date(e.max).getTime())?new Date("2999-12-31").getTime():new Date(e.max).getTime(),n=Number(e.nullprob)>0?Number(e.nullprob)>1?1:Number(e.nullprob):0;if(r<t){var o=e.min;t=e.max,r=o}for(var i=Number(e.total)>0?Number(e.total):100,a=new TimeVector,s=0;s<i;s++)n>0&&Math.random()<=n?a.push(null):a.push(Math.rndNumber(t,r,0));return a}explode(){return[this.map((e=>null!==e?e.getFullYear():null)).numerify().name($("Mydr")),this.map((e=>null!==e?e.getMonth()+1:null)).numerify().name($("v6qI")),this.map((e=>null!==e?e.getDate():null)).numerify().name($("o3Mh")),this.map((e=>null!==e?e.getHours():null)).numerify().name($("FKmI")),this.map((e=>null!==e?e.getMinutes():null)).numerify().name($("Jk73")),this.map((e=>null!==e?e.getSeconds():null)).numerify().name($("46Ew")),this.map((e=>null!==e?e.getMilliseconds():null)).numerify().name($("2hXX"))]}}TimeVector.prototype.parse=vectorParser.time,Array.prototype.numerify=function(){return new NumericVector(...this)},Array.prototype.stringify=function(){return new StringVector(...this)},Array.prototype.boolify=function(){return new BooleanVector(...this)},Array.prototype.timefy=function(){return new TimeVector(...this)},Array.prototype.vectorify=function(){if(!this.find((e=>!0!==e&&!1!==e&&null!==e&&0!==e&&1!==e)))return new BooleanVector(...this);try{return new NumericVector(...this)}catch(e){return new StringVector(...this)}};let _exports={Vector,NumericVector,StringVector,BooleanVector,TimeVector,vector:function(){return[...arguments].vectorify()}};module.exports=_exports}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}var __webpack_exports__=__webpack_require__(10);return __webpack_exports__})()));
//# sourceMappingURL=core.retusa.min.js.map