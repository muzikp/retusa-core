!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,(()=>(()=>{var __webpack_modules__={10:(t,e,r)=>{var n=async function(){return!1};const i=r(787);Array.prototype.eventHandler=n,Object.prototype.eventHandler=n,Array.eventHandler=n,Object.eventHandler=n,Array.prototype.locale=i,Object.prototype.locale=i,Array.prototype.$=i.call,Object.prototype.$=i.call,Array.$=i.call,Object.$=i.call,t.exports={use:function(){for(let e of[...arguments])e(t.exports);return t.exports},register:function(){return t.exports},addDictionary:function(e,r,n){return i.setData(e,r,n),t.exports},setLanguage:function(e){return i.setDefault(e),t.exports},setListener:function(e){return t.exports.call=e,t.exports},listen:function(e){return n=e,Array.prototype.eventHandler=n,Object.prototype.eventHandler=n,Array.eventHandler=n,Object.eventHandler=n,t.exports},toLocale:i.call,...r(13),...r(601)}},183:t=>{function e(t=8){let e="";let r=0;for(;r<t;)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())),r+=1;return e}Array.prototype.hasOnlyVectorChildren=function(){return 0==this.filter((t=>!t?.isVector)).length},Array.prototype.asc=function(){return this.sort(((t,e)=>t>e?1:t<e?-1:0))},Array.prototype.desc=function(){return this.sort(((t,e)=>t>e?-1:t<e?1:0))},Array.prototype.distinct=function(){return this.filter(((t,e,r)=>r.findIndex((e=>JSON.stringify(e)===JSON.stringify(t)))===e))},Array.prototype.toAvgRanks=function(t=!1){const e=t?-1:1,r=[...this].sort(((t,r)=>t>r?e:t<r?-e:0));for(var n=new Map,i=0;i<r.length;i++){var a=n.get(r[i]);a?n.set(r[i],a+=.5):n.set(r[i],i+1)}return this.map((t=>n.get(t)))},String.prototype.fill=function(t,e){for(var r="",n=0;n<e;n++)r=+t;return r},Math.getRandomIndexes=function(t,e){var r=[];for(t<e&&(e=t);r.length<e;){var n=Math.round(Math.random()*t);r.indexOf(n)<0&&r.push(n)}return r},Math.rndNumber=function(t,e,r=2){let n=Math.pow(10,r||0);return Math.floor(Math.random()*(e-t)*n+t*n)/n},Math.rndSelect=function(t,e=1,r=!1){if(e>=t.length)return t;for(var n=[];n.length<e;){var i=Math.floor(Math.random()*t.length);(r||n.indexOf(t[i]<0))&&n.push(t[i])}return n},Math.rndSelectOne=function(t){return t[Math.floor(Math.random()*t.length)]},Math.sign=function(t){return 0==t?0:t>0?1:-1},Function.prototype.stringify=function(t="\t"){var e=this.toString().match(/function[^{]+\{([\s\S]*)\}$/)[1],r="";return e.split(/\n/g).forEach((t=>r+=t.trim()+"\n")),r.trim()},Date.isDate=function(t){return t instanceof Date&&!isNaN(t.valueOf())},String.fillRnd=function(t){return e(t)},Array.prototype.fillRnd=function(){return e(this.length)},t.exports={Array,Math,String,Function,Date}},787:(t,e,r)=>{"use strict";r(183);const n="en-GB";var i={default:{GSEH:"Dictionary data argument must be an object and cannot be empty.",kaex:"Language ${value} not registered, switching to default (${default}).","91ECQmAF":"The argument is not neither a vector nor an Array. Detected type: ${type}",Rj0axQCr:"Failed to parse the matrix data."}},a={default:function(){return String.fillRnd(8)}},o="undefined"!=typeof window?window?.localStorage?.getItem("language")||window.navigator?.language||window.navigator?.userLanguage||n:Intl.DateTimeFormat().resolvedOptions().locale;i[o]||(o=n),t.exports={setData:function(e,r,n=!0){if("object"!=typeof r)throw t.exports.call("GSEH");return i[e]||(i[e]={}),Object.keys(r).forEach((function(t){n||i[e][t],i[e][t]=r[t]})),t.exports},getDefault:function(){return o},setDefault:function(e){return void 0===e?o=n:e?i[e]?o=e:(console.warn(t.exports.call("kaex",{value:e,default:n})),o=n):o=Intl.DateTimeFormat().resolvedOptions().locale,t.exports},call:function(t,e={}){let r=i[o];if(r||(r=i.default),!t)return"";if("object"==typeof t){var n=o?t[o]:Object.entries(t)[0][1];return s(n,e)}return(n=r[t])?n=s(n,e):s(t,{value:t})},listLanguages:function(){return Object.keys(i)},setWordList:function(e,r){return a[e]=r,t.exports},getRandomWord:function(){var t=a[o]||a.default;return Array.isArray(t)?Math.rndSelectOne(t):t(...arguments)},getRandomWords:function(t){var e=a[o]||a.default;return Array.isArray(e)?Math.rndSelect(e,t,!1):Array(t).fill(0).map((t=>e()))}};const s=function(t,e){return(t.match(/\$\{(.*?)\}/g)||[]).map((t=>t.match(/\$\{(.*)\}/)[1])).forEach((function(r){t=t.replace("${"+r+"}",(()=>e[r]))})),t}},601:(t,e,r)=>{"use strict";var{NumericVector:n,StringVector:i,BooleanVector:a,TimeVector:o,Vector:s}=r(13);r(183);const l=new WeakMap;let u=[{eventName:"matrix.vector.added",filter:null,on:!0,handler:function(t){}},{eventName:"matrix.vector.removed",filter:null,on:!0,handler:function(t){}},{eventName:"matrix.order.changed",filter:null,on:!0,handler:function(t){}}];function c(t,e,r){l.get(t)||l.set(t,{}),l.get(t)[e]=r}function h(t,e=null){return e?l.get(t)[e]:l.get(t)}Array.prototype.matrify=function(){for(var t=new f,e=0;e<this.length;e++)t.push(this[e]?.isVector?this[e]:this[e].vectorify());return t};class f extends Array{constructor(){super(),l.set(this,{id:String.fillRnd(16)}),c(this,"eventHandlers",u),this.trigger("matrix.created"),this.push(...arguments)}id(){return h(this,"id")}name(t,e=!1){const r=h(this,"name");return void 0!==t?(c(this,"name",t),"value"!==r&&this.trigger("matrix.name.changed",{old:r,new:t}),this):void 0!==h(this,"name")?h(this,"name"):e?this:null}push(){const t=this.length;for(let t of[...arguments].filter((t=>t)))if(t?.isVector)this.find((e=>e.id()===t.id()))?console.warn(`Vector ${t.name()||t.id()} is already a member of the matrix.`):super.push.call(this,t);else{if(!Array.isArray(t))throw console.error(t),this.$("91ECQmAF",{type:typeof t});super.push.call(this,t.vectorify())}return this.length>t&&this.trigger("matrix.value.added",{index:t,length:this.length-t}),this.length}map(t,e=this){if(!t)return this;var r=!0,n=[],i=0;for(let o of e||this){var a=t(o,i,e);i++,a?.isVector||(r=!1),n.push(a)}return r&&(n=new f(...n).name(this.name())),n}pivot(t,e,r=[]){t=this.item(t),e=this.item(e);const n=this.select(t,e),i=new f;for(let a of e.distinct().intersection(r))new t.constructor(...n.filter(e,(t=>t===a))[0]).name(a).label(e.format(a)).formatter(t.formatter(),!0),i.push(new t.constructor(...n.filter(e,(t=>t===a))[0]).name(a).label(e.format(a)).formatter(t.formatter(),!0));return i}clone(t=!1){return new f(...new Array(...this).map((t=>t.clone()))).name(this.name(),!0)}item(t){return t||0===t?isNaN(t)?"string"==typeof t?this.find((e=>e.id()==t||e.name()==t)):t?.isVector?this.find((e=>e.id()===t.id())):"Function"==t.constructor?.name?this.find(t):null:this[Number(t)]:null}remove(t){var e=this.item(t).id();return this.filter((t=>t.id()!=e))}select(...t){var e=(new f).name(this.name(),!0);for(let n of t){var r=this.item(n);r&&e.push(r)}return e}slice(t=0,e=1/0){var r=new f;for(let n=t<0?0:t;n<(e>=this.length?this.length:e);n++)r.push(this[n]);return r}filter(){if(0===[...arguments].length)return this;if(1===[...arguments].length){var t=[...arguments][0];if("function"==typeof t)return new f(...new Array(...this).filter(t));if(Array.isArray(t)){for(var e=this.clone().flush(),r=0;r<t.length;r++)e.appendRow(...this.row(t[r]));return e}return null}var n=[];if([...arguments].length%2!=0)throw new Error("Odd number of arguments!!");for(r=0;r<[...arguments].length;r+=2)n.push({v:this.item([...arguments][r]),f:[...arguments][r+1]});e=this.clone().flush();for(var i=0;i<this.maxRows();i++)n.map((t=>t.f(t.v[i],i,t.v))).filter((t=>t)).length===n.length&&e.appendRow(...this.row(i));return e}filterByIndex(...t){var e=new f;for(let r of this)e.push(r.filterByIndex(...t));return e}removeEmpty(){var t=new Array(...this).map(((t,e)=>[e,t=>null!==t])).flat(1/0);return this.filter(...t)}row(t){return t>this.maxRows()-1?null:new Array(...this).map((e=>e[t]||null))}rows(t=!1){for(var e=[],r=0;r<this.maxRows();r++){for(var n=[],i=0;i<this.length;i++)n.push(this[i][r]);e.push(n)}return e}appendRow(...t){for(var e=0;e<t.length;e++)(this[e]||[]).push(t[e]);return this}flush(){for(var t of this)t.flush();return this}maxRows(){return Math.max(...new Array(...this).map((t=>t.length)))}minRows(){return Math.min(...new Array(...this).map((t=>t.length)))}sample(t){var e=(t<1?Math.getRandomIndexes(this.maxRows(),Math.round(t*this.maxRows())):Math.getRandomIndexes(this.maxRows(),t>this.maxRows()?this.maxRows():Math.round(t))).sort();return this.filter(e)}analyze(t){return new MatrixAnalysis(t,this)}serialize(t=!1,e={beautify:!1}){var r={id:this.id(),name:this.name(),vectors:[]};for(var n of this)r.vectors.push(n.serialize());return t&&(r=JSON.stringify(r,e.beautify?"\t":null,e.beautify?"\t":null)),r}orderBy(t,e){if("asc"==e?this.item(t)?.ascIndex():"desc"==e&&this.item(t)?.descIndex())return this._with()}_with(){return this.empty()._push(...arguments)}async trigger(t,e){this.eventHandler&&this.eventHandler({name:t,data:e||{},who:this})}static deserialize(t){if("object"!=typeof t)try{t=JSON.parse(t)}catch(t){throw this.$("Rj0axQCr")}var e=(new f).name(t.name);return t.vectors.forEach((t=>e.push(s.deserialize(t)))),e}info(){return this.map(((t,e)=>({index:e,name:t.name(),label:t.label(),length:t.length,formatter:t.formatter()})))}}f.prototype.isMatrix=!0,t.exports={Matrix:f}},13:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";const{Array,Math,String,Function}=__webpack_require__(183),meta=["name","label","formatter"],registry=new WeakMap;let defaultEventHandlers=[{eventName:"vector.value.added",filter:null,on:!0,handler:function(t){}},{eventName:"vector.value.changed",filter:null,on:!0,handler:function(t){}},{eventName:"vector.value.removed",filter:null,on:!0,handler:function(t){}},{eventName:"vector.name.changed",filter:null,on:!0,handler:function(t){}},{eventName:"vector.label.changed",filter:null,on:!0,handler:function(t){}},{eventName:"vector.created",filter:null,on:!0,handler:function(t){}},{eventName:"vector.sample.init",filter:null,on:!0,handler:function(t){}},{eventName:"vector.sample.end",filter:null,on:!0,handler:function(t){}},{eventName:"vector.order.changed",filter:null,on:!0,handler:function(t){}}];function setRegistryProperty(t,e,r){registry.get(t)||registry.set(t,{}),registry.get(t)[e]=r}function getRegistryProperty(t,e=null){return e?registry.get(t)[e]:registry.get(t)}class Vector extends Array{constructor(){super(),registry.set(this,{id:String.fillRnd(16)}),setRegistryProperty(this,"eventHandlers",defaultEventHandlers),this.trigger("vector.created"),[...arguments].length>0&&this.push(...arguments)}name(t,e){if(t){const e=this.name();return setRegistryProperty(this,"name",t),t!==e&&this.trigger("vector.name.changed",{old:e,new:t}),this}return e?this:registry.get(this).name}label(t,e){if(t){const e=getRegistryProperty(this,"label");return setRegistryProperty(this,"label",t),t!==e&&this.trigger("vector.label.changed",{old:e,new:t}),this}return e?this:registry.get(this).label||registry.get(this).name}formatter(t,e){if(t){const e=getRegistryProperty(this,"formatter");return setRegistryProperty(this,"formatter",t),t!==e&&this.trigger("vector.formatter.changed",{old:e,new:t}),this}return e?this:registry.get(this).formatter}getMeta(t,e){registry.get(t)||registry.set(t,{}),registry.get(this)||registry.set(this,{}),e&&meta.push("id");for(let e of meta)setRegistryProperty(this,e,registry.get(t)[e]);return this}id(){return getRegistryProperty(this,"id")}asc(){var t=[...super.asc()].flat(1);return this.length=0,super.push.call(this,...t),this.trigger("vector.order.changed",{direction:"asc"}),this}ascIndex(){return this.raw().toAvgRanks(!1)}concat(){return new this.constructor(...this,...arguments).getMeta(this)}desc(){var t=[...super.desc()].flat(1);return this.length=0,super.push.call(this,...t),this.trigger("vector.order.changed",{direction:"desc"}),this}descIndex(){return this.raw().toAvgRanks(!0)}flush(){const t=this.length;return super.length=0,this.trigger("vector.value.removed",{index:0,length:t}),this}map(){return super.map.call(this,...arguments)}push(){let t=this.length;for(let t of[...arguments].flat(1/0))this.parse?super.push(this.parse(t)):super.push(t);this.trigger("vector.value.added",{index:t,count:this.length})}slice(){this.reload(super.slice.call(this.raw(),...arguments))}toString(){return this.serialize(!0)}setLanguage(t){return locale.setDefault(t),this}raw(){return[...this]}reload(...t){return super.length=0,this.push(...t),this}removeEmpty(t=!1){if(t){const t=this.raw().filter((t=>null!==t));return super.length=0,super.push.call(this,...t),this}{const t=this.raw().filter((t=>null!==t));var e=(new this.constructor).getMeta(this);return super.push.call(e,...t),e}}format(value,index,parent){const f=getRegistryProperty(this,"formatter");return f?"object"==typeof f?void 0!==f[value]?f[value]:value:"function"==typeof f?f(value,index,parent||this):"string"==typeof f?eval(`[${f}][0]`)(value,index,parent||this):void 0:value}serialize(t=!1,e={beautify:!1}){var r={id:this.id(),values:this.raw(),name:this.name(),label:getRegistryProperty(this,"label")||null,type:this.type(),formatter:this.formatter()?"function"==typeof this.formatter()?this.formatter().toString():this.formatter():null};return t?JSON.stringify(r,null,e?.beautify?"\t":""):r}clone(t=!1){var e=t?new this.constructor:new this.constructor(...this).getMeta(this);return log({class:"vector",what:this,data:{events:["cloned"]}}),e}ifilter(t=(()=>!0)){return new Array(...this).map((function(e,r){return t(e)?r:-1})).filter((t=>t>-1))}filterByIndex(...t){return new this.constructor(...this).filter(((e,r)=>[...t].indexOf(r)>-1)).getMeta(this)}sample(t=0){this.trigger("vector.sample.init",{});var e=this.clone(!0);if(t<=0)return this.trigger("vector.sample.end",{}),e;if(t<1&&(t=this.length*t),t>this.length)return this.trigger("vector.sample.end",{}),e;var r=Math.getRandomIndexes(this.length,t);return e.push(...this.filter(((t,e)=>r.indexOf(e)>-1))),this.trigger("vector.sample.end",{}),e}on(){return setRegistryProperty(this,"off",!1),this}off(){return setRegistryProperty(this,"off",!0),this}async trigger(t,e){getRegistryProperty(this,"off")||this.eventHandler&&this.eventHandler({name:t,data:e||{},who:this})}convert(t,e){if(this.type()==t)return this;if(1==t)return e||(e=(t,e,r)=>t),new NumericVector(...this.map(e)).getMeta(this);if(2==t)return e||(e=(t,e,r)=>String(t)),new StringVector(...this.map(e)).getMeta(this);if(3==t)return e||(e=(t,e,r)=>null===t?null:!!t),new BooleanVector(...this.map(e)).getMeta(this);if(4==t)return e||(e=(t,e,r)=>null===t?null:t),new TimeVector(...this.map(e)).getMeta(this);throw new Error(`Unrecognized vector type: ${t}. Possible types: 1,2,3,4.`)}fill(t,e,r){var n=this.parse(t);return r?super.push(...Array(e).fill(n)):this.reload(...Array(e).fill(n)),this}append(t,e=1){var r=this.parse(t);return super.push(...Array(e).fill(r)),this}localize(t,e={}){return $(t,e)}static deserialize(t){if("object"!=typeof t)try{t=JSON.parse(t)}catch(t){return console.error("Failed to parse the vector data."),null}if([1,2,3,4].indexOf(t.type)<0)throw new Error("Unknown vector type: "+t.type);{let e=1==t.type?new NumericVector(...t.values):2==t.type?new StringVector(...t.values):3==t.type?new BooleanVector(...t.values):4==t.type?new TimeVector(...t.values):new Error;if(t.id&&setRegistryProperty(e,"id",t.id),e=e.name(t.name).label(t.label),t.formatter)try{e=e.formatter(JSON.parse())}catch(r){try{e=e.formatter(t.formatter)}catch(t){console.error("Failed to deserialize the formatter",t)}}return t.function,e}}static of(){return[...arguments].vectorify()}static ofType(t){return function(){if(1==t)return new NumericVector(...arguments);if(2==t)return new StringVector(...arguments);if(3==t)return new BooleanVector(...arguments);if(4==t)return new TimeVector(...arguments);throw new Error("Unknown vector type: "+t)}}}Vector.prototype.isVector=!0;const vectorParser={numeric:function(t){if("string"==typeof t&&(t=t.replace(/\,/g,".").trim()),0===t||"0"===t||!1===t)return 0;if(t){if(isNaN(t))throw new Error($("UyOj",{value:t}));return Number(t)}return null},string:function(t){return t||!1===t||0===t?String(t):null},boolean:function(t){return t?1:!1===t||0===t||"0"===t||"false"===t?0:null},time:function(t){if(!1===t||null==t)return null;if(Date.isDate(t))return t;if(Array.isArray(t)&&new Date(...t),isNaN(new Date(t).getTime()))throw new Error($("eZw1",{value:t}));return new Date(t)}};class NumericVector extends Vector{constructor(){super(...arguments)}type(t){return t?"NumericVector":1}static generate(t={}){var e=isNaN(t.min)||Number(t.min)<-Number.MAX_SAFE_INTEGER?-Number.MAX_SAFE_INTEGER:Number(t.min),r=isNaN(t.max)||Number(t.max)>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:Number(t.max),n=Number(t.nullprob)>0?Number(t.nullprob)>1?1:Number(t.nullprob):0;if(r<e){var i=t.min;e=t.max,r=i}for(var a=Number(t.decimal)>0?Math.floor(t.decimal):0,o=Number(t.total)>0?Number(t.total):100,s=new NumericVector,l=0;l<o;l++)n>0&&Math.random()<=n?Array.prototype.push.call(s,null):Array.prototype.push.call(s,Math.rndNumber(e,r,a));return s}}NumericVector.prototype.parse=vectorParser.numeric;class StringVector extends Vector{constructor(){super(...arguments)}type(t){return t?"StringVector":2}static generate(t={}){let e;var r=Number(t.total)>0?Number(t.total):100,n=Number(t.nullprob)>0?Number(t.nullprob)>1?1:Number(t.nullprob):0;e=void 0===t?.list?locale.getRandomWords(5):isNaN(t.list)?t.list:this.locale.getRandomWords(Number(t.list));for(var i=new StringVector,a=0;a<r;a++)n>0&&Math.random()<=n?Array.prototype.push.call(i,null):Array.prototype.push.call(i,Math.rndSelectOne(e));return i}}StringVector.prototype.parse=vectorParser.string;class BooleanVector extends Vector{constructor(){super(...arguments)}type(t){return t?"BooleanVector":3}static generate(t={}){let e=[1,0];for(var r=Number(t.total)>0?Number(t.total):100,n=Number(t.nullprob)>0?Number(t.nullprob)>1?1:Number(t.nullprob):0,i=new BooleanVector,a=0;a<r;a++)n>0&&Math.random()<=n?Array.prototype.push.call(i,null):Array.prototype.push.call(i,Math.rndSelectOne(e));return i}format(t,e,r){return this.formatter()?this.format(t,e,r):1===t||0!==t&&null}}BooleanVector.prototype.parse=vectorParser.boolean;class TimeVector extends Vector{constructor(){super(),[...arguments].length>0&&this.push(...arguments)}push(){for(let t of[...arguments])this.parse?super.push(this.parse(t)):super.push(t)}type(t){return t?"TimeVector":4}static generate(t={}){var e=isNaN(new Date(t.min).getTime())?new Date("1000-01-01").getTime():new Date(t.min).getTime(),r=isNaN(new Date(t.max).getTime())?new Date("2999-12-31").getTime():new Date(t.max).getTime(),n=Number(t.nullprob)>0?Number(t.nullprob)>1?1:Number(t.nullprob):0;if(r<e){var i=t.min;e=t.max,r=i}for(var a=Number(t.total)>0?Number(t.total):100,o=new TimeVector,s=0;s<a;s++)n>0&&Math.random()<=n?Array.prototype.push.call(o,null):Array.prototype.push.call(o,Math.rndNumber(e,r,0));return o}explode(){return[this.map((t=>null!==t?t.getFullYear():null)).numerify().name($("Mydr")),this.map((t=>null!==t?t.getMonth()+1:null)).numerify().name($("v6qI")),this.map((t=>null!==t?t.getDate():null)).numerify().name($("o3Mh")),this.map((t=>null!==t?t.getHours():null)).numerify().name($("FKmI")),this.map((t=>null!==t?t.getMinutes():null)).numerify().name($("Jk73")),this.map((t=>null!==t?t.getSeconds():null)).numerify().name($("46Ew")),this.map((t=>null!==t?t.getMilliseconds():null)).numerify().name($("2hXX"))]}}TimeVector.prototype.parse=vectorParser.time,Array.prototype.numerify=function(){return new NumericVector(...this)},Array.prototype.stringify=function(){return new StringVector(...this)},Array.prototype.boolify=function(){return new BooleanVector(...this)},Array.prototype.timefy=function(){return new TimeVector(...this)},Array.prototype.vectorify=function(){if(!this.find((t=>!0!==t&&!1!==t&&null!==t&&0!==t&&1!==t)))return new BooleanVector(...this);try{return new NumericVector(...this)}catch(t){return new StringVector(...this)}};let _exports={Vector,NumericVector,StringVector,BooleanVector,TimeVector,vector:function(){return[...arguments].vectorify()}};module.exports=_exports}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__webpack_require__),r.exports}var __webpack_exports__=__webpack_require__(10);return __webpack_exports__})()));
//# sourceMappingURL=core.retusa.min.js.map